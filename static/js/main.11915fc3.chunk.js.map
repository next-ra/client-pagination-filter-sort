{"version":3,"sources":["components/Pagination.module.css","components/Item.module.css","components/List.module.css","components/TitleItem.module.css","components/Search.module.css","components/Item.js","components/TitleItem.js","components/List.js","components/Pagination.js","components/Search.js","App.js","index.js"],"names":["module","exports","Item","id","name","body","email","className","styles","item","TitleItem","onSort","title","sortedBy","onClick","cell","List","items","titles","map","Pagination","itemsPerPage","totalItems","onPaginate","currentPage","pageNumbers","i","Math","ceil","push","pagination","num","Search","setSearchValue","searchValue","setSortedItems","currentPageState","input","type","onChange","e","target","value","result","arr","filter","obj","Object","keys","some","key","toLowerCase","includes","filterHelper","placeholder","App","useState","allItems","setAllItems","sortedItems","setSortedBy","setCurrentPageState","setCurrentPage","useEffect","lastItemIndex","firstItemIndex","slice","a","axios","get","res","data","getItems","pageNumber","length","field","currentTarget","sort","b","filterBy","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11915fc3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3BWRC\",\"current-page\":\"Pagination_current-page__2JAVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__3z32X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titles\":\"List_titles__1AgTC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"TitleItem_cell__36knp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Search_input__1Hk73\"};","import styles from './Item.module.css';\n\nconst Item = ({ id, name, body, email }) => {\n  return (\n    <li className={styles.item}>\n      <p>{id}</p>\n      <p>{name}</p>\n      <p>{body}</p>\n      <p>{email}</p>\n    </li>\n  );\n};\n\nexport default Item;\n","import styles from './TitleItem.module.css';\n\nconst TitleItem = ({ onSort, title, sortedBy, id }) => {\n  return (\n    <div onClick={onSort} id={id} className={styles.cell}>\n      <h4>{title}</h4>\n      {sortedBy[`${id}`] ? <span>&#9660;</span> : <span>&#9650;</span>}\n    </div>\n  );\n};\n\nexport default TitleItem;\n","import Item from './Item';\nimport styles from './List.module.css';\nimport TitleItem from './TitleItem';\n\nconst List = ({ items, onSort, sortedBy }) => {\n  const titles = ['id', 'name', 'body', 'email'];\n\n  return (\n    <>\n      <div className={styles.titles}>\n        {titles.map((title) => (\n          <TitleItem\n            key={title}\n            onSort={onSort}\n            title={title}\n            sortedBy={sortedBy}\n            id={title}\n          />\n        ))}\n      </div>\n\n      <ul>\n        {items.map((item) => (\n          <Item\n            key={item.id}\n            id={item.id}\n            body={item.body}\n            email={item.email}\n            name={item.name}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default List;\n","import styles from './Pagination.module.css';\n\nconst Pagination = ({ itemsPerPage, totalItems, onPaginate, currentPage }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalItems / itemsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <ul className={styles.pagination}>\n      {pageNumbers.map((num) => (\n        <li\n          className={num === currentPage ? `${styles[`current-page`]}` : ''}\n          onClick={() => onPaginate(num)}\n          key={num}\n        >\n          {num}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default Pagination;\n","import styles from './Search.module.css';\n\nconst Search = ({\n  setSearchValue,\n  searchValue,\n  setSortedItems,\n  currentPageState,\n}) => {\n  function filterHelper(arr, searchValue) {\n    return arr.filter((obj) =>\n      Object.keys(obj).some(\n        (key) =>\n          key !== 'id' &&\n          key !== 'postId' &&\n          obj[key].toLowerCase().includes(searchValue.toLowerCase()),\n      ),\n    );\n  }\n\n  const onChangeHandler = (e) => {\n    setSearchValue(e.target.value);\n\n    const result = filterHelper(currentPageState, e.target.value);\n\n    setSortedItems(result);\n  };\n\n  return (\n    <input\n      className={styles.input}\n      type=\"text\"\n      onChange={onChangeHandler}\n      placeholder=\"поиск\"\n      value={searchValue}\n    />\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport List from './components/List';\nimport Pagination from './components/Pagination';\nimport Search from './components/Search';\n\nfunction App() {\n  const [allItems, setAllItems] = useState([]);\n  const [sortedItems, setSortedItems] = useState([]);\n  const [sortedBy, setSortedBy] = useState({\n    id: false,\n    name: false,\n    email: false,\n    body: false,\n  });\n  const [searchValue, setSearchValue] = useState('');\n\n  // пагинация\n  const [currentPageState, setCurrentPageState] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(50);\n\n  useEffect(() => {\n    const lastItemIndex = currentPage * itemsPerPage;\n    const firstItemIndex = lastItemIndex - itemsPerPage;\n    setCurrentPageState(allItems.slice(firstItemIndex, lastItemIndex));\n    setSortedItems(allItems.slice(firstItemIndex, lastItemIndex));\n  }, [currentPage, itemsPerPage, allItems]);\n\n  const paginateHandler = (pageNumber) => setCurrentPage(pageNumber);\n\n  useEffect(() => {\n    const getItems = async () => {\n      const res = await axios.get(\n        `https://jsonplaceholder.typicode.com/comments`,\n      );\n      setAllItems(res.data);\n      setSortedItems(res.data);\n    };\n\n    getItems();\n  }, []);\n\n  function filterBy(field) {\n    if (sortedBy[field]) {\n      return (a, b) => (a[field] > b[field] ? 1 : -1);\n    } else return (a, b) => (a[field] > b[field] ? -1 : 1);\n  }\n\n  const sortHandler = (e) => {\n    const field = e.currentTarget.id;\n\n    setSortedBy({\n      ...sortedBy,\n      [field]: !sortedBy[field],\n    });\n    setSortedItems([...sortedItems].sort(filterBy(field)));\n  };\n\n  return (\n    <div className=\"App\">\n      <Pagination\n        onPaginate={paginateHandler}\n        itemsPerPage={itemsPerPage}\n        totalItems={allItems.length}\n        currentPage={currentPage}\n      />\n      <Search\n        setSearchValue={setSearchValue}\n        searchValue={searchValue}\n        setSortedItems={setSortedItems}\n        currentPageState={currentPageState}\n      />\n\n      <List items={sortedItems} onSort={sortHandler} sortedBy={sortedBy} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}